<?xml version="1.0" encoding="iso-8859-1"?>
<edmx:Edmx xmlns:edmx="http://schemas.microsoft.com/ado/2007/06/edmx" Version="1.0">
  <edmx:DataServices xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" m:DataServiceVersion="1.0" m:MaxDataServiceVersion="3.0">
    <Schema xmlns="http://schemas.microsoft.com/ado/2008/09/edm" Namespace="RubyODataService">
      <EntityType Name="Product">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property xmlns:p6="http://schemas.microsoft.com/ado/2009/02/edm/annotation" Name="Id" Type="Edm.Int32" Nullable="false" p6:StoreGeneratedPattern="Identity"/>
        <Property Name="Name" Type="Edm.String" MaxLength="4000" FixedLength="false" Unicode="true"/>
        <Property Name="Description" Type="Edm.String" MaxLength="4000" FixedLength="false" Unicode="true"/>
        <Property Name="Price" Type="Edm.Decimal" Nullable="false" Precision="18" Scale="2"/>
        <Property Name="DiscontinuedDate" Type="Edm.DateTime"/>
        <Property Name="CategoryId" Type="Edm.Int32" Nullable="false"/>
        <Property Name="AuditFields" Type="RubyODataService.AuditFields" Nullable="false"/>
        <NavigationProperty Name="Category" Relationship="RubyODataService.Category_Products" ToRole="Category_Products_Source" FromRole="Category_Products_Target"/>
      </EntityType>
      <ComplexType Name="AuditFields">
        <Property Name="CreateDate" Type="Edm.DateTime" Nullable="false"/>
        <Property Name="ModifiedDate" Type="Edm.DateTime" Nullable="false"/>
        <Property Name="CreatedBy" Type="Edm.String" MaxLength="4000" FixedLength="false" Unicode="true"/>
      </ComplexType>
      <EntityType Name="Category">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property xmlns:p6="http://schemas.microsoft.com/ado/2009/02/edm/annotation" Name="Id" Type="Edm.Int32" Nullable="false" p6:StoreGeneratedPattern="Identity"/>
        <Property Name="Name" Type="Edm.String" MaxLength="4000" FixedLength="false" Unicode="true"/>
        <Property Name="AuditFields" Type="RubyODataService.AuditFields" Nullable="false"/>
        <NavigationProperty Name="Products" Relationship="RubyODataService.Category_Products" ToRole="Category_Products_Target" FromRole="Category_Products_Source"/>
      </EntityType>
      <EntityType Name="EdmMetadata">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property xmlns:p6="http://schemas.microsoft.com/ado/2009/02/edm/annotation" Name="Id" Type="Edm.Int32" Nullable="false" p6:StoreGeneratedPattern="Identity"/>
        <Property Name="ModelHash" Type="Edm.String" MaxLength="4000" FixedLength="false" Unicode="true"/>
      </EntityType>
      <Association Name="Category_Products">
        <End Type="RubyODataService.Product" Role="Category_Products_Target" Multiplicity="*"/>
        <End Type="RubyODataService.Category" Role="Category_Products_Source" Multiplicity="1">
          <OnDelete Action="Cascade"/>
        </End>
        <ReferentialConstraint>
          <Principal Role="Category_Products_Source">
            <PropertyRef Name="Id"/>
          </Principal>
          <Dependent Role="Category_Products_Target">
            <PropertyRef Name="CategoryId"/>
          </Dependent>
        </ReferentialConstraint>
      </Association>
      <EntityContainer Name="RubyODataContext" m:IsDefaultEntityContainer="true">
        <EntitySet Name="Products" EntityType="RubyODataService.Product"/>
        <EntitySet Name="Categories" EntityType="RubyODataService.Category"/>
        <EntitySet Name="EdmMetadatas" EntityType="RubyODataService.EdmMetadata"/>
        <AssociationSet Name="Category_Products" Association="RubyODataService.Category_Products">
          <End Role="Category_Products_Target" EntitySet="Products"/>
          <End Role="Category_Products_Source" EntitySet="Categories"/>
        </AssociationSet>
        <FunctionImport Name="CleanDatabaseForTesting" m:HttpMethod="POST"/>
        <FunctionImport Name="EntityCategoryWebGet" ReturnType="Collection(RubyODataService.Category)" EntitySet="Categories" m:HttpMethod="GET"/>
      </EntityContainer>
    </Schema>
  </edmx:DataServices>
</edmx:Edmx>
